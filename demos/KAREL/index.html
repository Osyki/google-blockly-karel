<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Blockly KAREL Programming</title>

    <!--    Blockly generators    -->
    <script src="../../blockly_compressed.js"></script>
    <script src="../../blocks_compressed.js"></script>
    <script src="../../msg/js/en.js"></script>

    <!--    KAREL generators    -->
    <script src="generators/KAREL"></script>
    <script src="generators/KAREL/prog_name.js"></script>
    <script src="generators/KAREL/variables.js"></script>

    <link href="style.css" rel="stylesheet">
</head>

<body>
<table id="mainTable">
    <!--    title row    -->
    <tr id="titleRow">
        <td class="leftColumn">
            <div id="headerandoptions">
            <div id="header">
                <span id="title">KAREL</span>
                <span id="version">Beta v0.1</span>
                </div>
            <div id="options">
                <button class="menuButton" onclick="showFilePopUp('saveFilePopUp')" title="Save your work.">Save Files
                </button>
                <button class="menuButton" onclick="showFilePopUp('loadFilePopUp')" title="Load your work.">Load Files
                </button>
                <input id="fileSaveBtn" multiple onchange="readFiles(this)" style="display:none"
                       title="Load a blockly save into the program." type="file"/>
                <button class="menuButton" onclick="showFilePopUp('renameFilePopUp')" title="Rename File">Rename File
                </button>
                <button class="menuButton" onclick="showFilePopUp('deleteFilePopUp')" title="Delete File">Delete File
                </button>
                <button class="menuButton" onclick="showFilePopUp('newFilePopUp')" title="New File">New File</button>
                <button class="menuButton" onclick="downloadCode()">Download Code</button>
            </div>
            </div>

        </td>
        <td class="rightColumn">
            <div id="languageMenuCell">
                <label for="languageMenu"></label><select id="languageMenu"></select>
            </div>
        </td>
    </tr>
    <!--    tab row    -->
    <tr id="tabrow">
        <td class="leftColumn" colspan=1>
            <table id="tabletabs">
                <tr>
                    <td class="tabon" id="tabfile">
                        <button class="tabbutton">Files...</button>
                    </td>

                    <td class="tabon" id="tab_KAREL">
                        <button class="tabbutton">KAREL</button>
                    </td>
                    <td class="taboff" id="empty_tab"></td>

                </tr>
            </table>
        </td>
        <td>

        </td>
    </tr>
    <!--    blockly row    -->
    <tr id="blocklyrow">
        <td class="leftColumn" id="blocklyArea">
            <div id="blocklyDiv"></div>
        </td>
        <td class="rightColumn" id="codeCell">
            <textarea id="codeTextArea" wrap="off">Code prints here</textarea>
        </td>
    </tr>
</table>

<div id="fileDropDown">
    <a href="javascript:void(0)" id="prog_name.kl_file"
       onclick="makeFileVisible('prog_name.kl')">prog_name.klnfmnasf,anf,manf,anf</a>
</div>

<xml id="toolbox" style="display: none" xmlns="">
    <category colour="#134796" name="New">
        <label text="Begin program" web-class="labelClass"></label>
        <block type="prog_name"></block>
    </category>
</xml>

<!--    inject blockly    -->
<script src="inject_blockly.js"></script>

</body>

</html>
